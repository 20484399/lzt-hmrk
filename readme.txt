计网实验1

黄炜老师的2024级计算机网络课程

主要实现过程

1. encoder.exe程序将源文件读取存储进入unsigned char数组中
2. 借助opencv再将数组中的信息按照规定的矩阵位置顺序，逐位存储到自己设定的136*136的二维码（包含原始信息，二维码定位点，帧编号，当前二维码有效信息位数）中。
3. 通过ffmpeg，将生成的图片序列合成为视频
4. 通过手机拍摄视频再传到电脑上
5. 利用ffmpeg，将上传好的视频解码为图片序列
6. 利用opencv读取图片，（定位用的是李泽政学长的代码，自己写的效果不理想）重定位为原始二维码图片
7. 解析二维码中的信息，得到存储进入一个unsigned char数组中生成一个输出bin文件
8. 将源文件与输出文件比较，输出一个指示传输后的二进制信息每一位是否有效的bin文件

调用exe说明

1.encoder.exe
调用举例：

(1)三个参数的情况： ./encoder.exe 001.jpg qaq.mp4 5000

(2)四个参数的情况： ./encoder.exe 001.jpg qaq.mp4 5000 15

输入三个参数的时候第一个参数是源文件，第二个是编码后视频存放的地址，第三个是视频的最大时长5000ms

输入四个参数的时候最后一个参数可以作为编码视频的fps,默认fps是15

2. decoder.exe
调用举例：

(1)两个参数的情况： ./decoder.exe qaq.mp4 aca.bin

(2)四个参数的情况:  ./decoder.exe qaq.mp4 aca.bin tat.bin 001.jpg

输入两个额外参数的示例： 其中qaq.mp4是要解码的视频，aca.bin是解码后存放二进制结果的文件

输入四个额外参数的示例:  其中第一二个同上，第三个tat.bin是用来输出指示二进制结果的每一位是否有效的文件
第四个是源文件001.jpg，用来跟解码后的结果对比辅助输出到tat.bin中